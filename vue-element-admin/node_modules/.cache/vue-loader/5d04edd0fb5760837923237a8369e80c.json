{"remainingRequest":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/src/components/ImageCropper/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/src/components/ImageCropper/index.vue","mtime":1685687938531},{"path":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1685688829009},{"path":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/node_modules/thread-loader/dist/cjs.js","mtime":1685688828966},{"path":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/node_modules/babel-loader/lib/index.js","mtime":1685688829532},{"path":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/node_modules/cache-loader/dist/cjs.js","mtime":1685688829009},{"path":"/Users/fdoemges/local/workspaces/privat/kogniswarm/kogniswarm/vue-element-admin/node_modules/vue-loader/lib/index.js","mtime":1685688829631}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCid1c2Ugc3RyaWN0JwppbXBvcnQgcmVxdWVzdCBmcm9tICdAL3V0aWxzL3JlcXVlc3QnCmltcG9ydCBsYW5ndWFnZSBmcm9tICcuL3V0aWxzL2xhbmd1YWdlLmpzJwppbXBvcnQgbWltZXMgZnJvbSAnLi91dGlscy9taW1lcy5qcycKaW1wb3J0IGRhdGEyYmxvYiBmcm9tICcuL3V0aWxzL2RhdGEyYmxvYi5qcycKaW1wb3J0IGVmZmVjdFJpcHBsZSBmcm9tICcuL3V0aWxzL2VmZmVjdFJpcHBsZS5qcycKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICAvLyDln5/vvIzkuIrkvKDmlofku7ZuYW1l77yM6Kem5Y+R5LqL5Lu25Lya5bim5LiK77yI5aaC5p6c5LiA5Liq6aG16Z2i5aSa5Liq5Zu+54mH5LiK5Lyg5o6n5Lu277yM5Y+v5Lul5YGa5Yy65YiGCiAgICBmaWVsZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdhdmF0YXInCiAgICB9LAogICAgLy8g5Y6f5ZCNa2V577yM57G75Ly85LqOaWTvvIzop6blj5Hkuovku7bkvJrluKbkuIrvvIjlpoLmnpzkuIDkuKrpobXpnaLlpJrkuKrlm77niYfkuIrkvKDmjqfku7bvvIzlj6/ku6XlgZrljLrliIYKICAgIGtpOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIC8vIOaYvuekuuivpeaOp+S7tuS4juWQpgogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8vIOS4iuS8oOWcsOWdgAogICAgdXJsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvLyDlhbbku5bopoHkuIrkvKDmlofku7bpmYTluKbnmoTmlbDmja7vvIzlr7nosaHmoLzlvI8KICAgIHBhcmFtczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICAvLyBBZGQgY3VzdG9tIGhlYWRlcnMKICAgIGhlYWRlcnM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgLy8g5Ymq6KOB5Zu+54mH55qE5a69CiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKICAgIC8vIOWJquijgeWbvueJh+eahOmrmAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwCiAgICB9LAogICAgLy8g5LiN5pi+56S65peL6L2s5Yqf6IO9CiAgICBub1JvdGF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5LiN6aKE6KeI5ZyG5b2i5Zu+54mHCiAgICBub0NpcmNsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOS4jemihOiniOaWueW9ouWbvueJhwogICAgbm9TcXVhcmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDljZXmlofku7blpKflsI/pmZDliLYKICAgIG1heFNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDI0MAogICAgfSwKICAgIC8vIOivreiogOexu+WeiwogICAgbGFuZ1R5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnemgnCiAgICB9LAogICAgLy8g6K+t6KiA5YyFCiAgICBsYW5nRXh0OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIC8vIOWbvueJh+S4iuS8oOagvOW8jwogICAgaW1nRm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3BuZycKICAgIH0sCiAgICAvLyDmmK/lkKbmlK/mjIHot6jln58KICAgIHdpdGhDcmVkZW50aWFsczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IHsgaW1nRm9ybWF0LCBsYW5nVHlwZSwgbGFuZ0V4dCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcwogICAgbGV0IGlzU3VwcG9ydGVkID0gdHJ1ZQogICAgY29uc3QgYWxsb3dJbWdGb3JtYXQgPSBbJ2pwZycsICdwbmcnXQogICAgY29uc3QgdGVtcEltZ0Zvcm1hdCA9CiAgICAgIGFsbG93SW1nRm9ybWF0LmluZGV4T2YoaW1nRm9ybWF0KSA9PT0gLTEgPyAnanBnJyA6IGltZ0Zvcm1hdAogICAgY29uc3QgbGFuZyA9IGxhbmd1YWdlW2xhbmdUeXBlXSA/IGxhbmd1YWdlW2xhbmdUeXBlXSA6IGxhbmd1YWdlWydlbiddCiAgICBjb25zdCBtaW1lID0gbWltZXNbdGVtcEltZ0Zvcm1hdF0KICAgIC8vIOinhOiMg+WbvueJh+agvOW8jwogICAgdGhpcy5pbWdGb3JtYXQgPSB0ZW1wSW1nRm9ybWF0CiAgICBpZiAobGFuZ0V4dCkgewogICAgICBPYmplY3QuYXNzaWduKGxhbmcsIGxhbmdFeHQpCiAgICB9CiAgICBpZiAodHlwZW9mIEZvcm1EYXRhICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgIGlzU3VwcG9ydGVkID0gZmFsc2UKICAgIH0KICAgIHJldHVybiB7CiAgICAgIC8vIOWbvueJh+eahG1pbWUKICAgICAgbWltZSwKICAgICAgLy8g6K+t6KiA5YyFCiAgICAgIGxhbmcsCiAgICAgIC8vIOa1j+iniOWZqOaYr+WQpuaUr+aMgeivpeaOp+S7tgogICAgICBpc1N1cHBvcnRlZCwKICAgICAgLy8g5rWP6KeI5Zmo5piv5ZCm5pSv5oyB6Kem5bGP5LqL5Lu2CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKICAgICAgaXNTdXBwb3J0VG91Y2g6IGRvY3VtZW50Lmhhc093blByb3BlcnR5KCdvbnRvdWNoc3RhcnQnKSwKICAgICAgLy8g5q2l6aqkCiAgICAgIHN0ZXA6IDEsIC8vIDHpgInmi6nmlofku7YgMuWJquijgSAz5LiK5LygCiAgICAgIC8vIOS4iuS8oOeKtuaAgeWPiui/m+W6pgogICAgICBsb2FkaW5nOiAwLCAvLyAw5pyq5byA5aeLIDHmraPlnKggMuaIkOWKnyAz6ZSZ6K+vCiAgICAgIHByb2dyZXNzOiAwLAogICAgICAvLyDmmK/lkKbmnInplJnor6/lj4rplJnor6/kv6Hmga8KICAgICAgaGFzRXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1zZzogJycsCiAgICAgIC8vIOmcgOaxguWbvuWuvemrmOavlAogICAgICByYXRpbzogd2lkdGggLyBoZWlnaHQsCiAgICAgIC8vIOWOn+WbvuWcsOWdgOOAgeeUn+aIkOWbvueJh+WcsOWdgAogICAgICBzb3VyY2VJbWc6IG51bGwsCiAgICAgIHNvdXJjZUltZ1VybDogJycsCiAgICAgIGNyZWF0ZUltZ1VybDogJycsCiAgICAgIC8vIOWOn+WbvueJh+aLluWKqOS6i+S7tuWIneWni+WAvAogICAgICBzb3VyY2VJbWdNb3VzZURvd246IHsKICAgICAgICBvbjogZmFsc2UsCiAgICAgICAgbVg6IDAsIC8vIOm8oOagh+aMieS4i+eahOWdkOaghwogICAgICAgIG1ZOiAwLAogICAgICAgIHg6IDAsIC8vIHNjYWxl5Y6f5Zu+5Z2Q5qCHCiAgICAgICAgeTogMAogICAgICB9LAogICAgICAvLyDnlJ/miJDlm77niYfpooTop4jnmoTlrrnlmajlpKflsI8KICAgICAgcHJldmlld0NvbnRhaW5lcjogewogICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgaGVpZ2h0OiAxMDAKICAgICAgfSwKICAgICAgLy8g5Y6f5Zu+5a655Zmo5a696auYCiAgICAgIHNvdXJjZUltZ0NvbnRhaW5lcjogewogICAgICAgIC8vIHNpYwogICAgICAgIHdpZHRoOiAyNDAsCiAgICAgICAgaGVpZ2h0OiAxODQgLy8g5aaC5p6c55Sf5oiQ5Zu+5q+U5L6L5LiO5q2k5LiA6Ie05Lya5Ye6546wYnVn77yM5YWI5pS55oiQ54m55q6K55qE5qC85byP5ZCn77yM5ZOI5ZOI5ZOICiAgICAgIH0sCiAgICAgIC8vIOWOn+WbvuWxleekuuWxnuaApwogICAgICBzY2FsZTogewogICAgICAgIHpvb21BZGRPbjogZmFsc2UsIC8vIOaMiemSrue8qeaUvuS6i+S7tuW8gOWQrwogICAgICAgIHpvb21TdWJPbjogZmFsc2UsIC8vIOaMiemSrue8qeaUvuS6i+S7tuW8gOWQrwogICAgICAgIHJhbmdlOiAxLCAvLyDmnIDlpKcxMDAKICAgICAgICByb3RhdGVMZWZ0OiBmYWxzZSwgLy8g5oyJ6ZKu5ZCR5bem5peL6L2s5LqL5Lu25byA5ZCvCiAgICAgICAgcm90YXRlUmlnaHQ6IGZhbHNlLCAvLyDmjInpkq7lkJHlj7Pml4vovazkuovku7blvIDlkK8KICAgICAgICBkZWdyZWU6IDAsIC8vIOaXi+i9rOW6puaVsAogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB3aWR0aDogMCwKICAgICAgICBoZWlnaHQ6IDAsCiAgICAgICAgbWF4V2lkdGg6IDAsCiAgICAgICAgbWF4SGVpZ2h0OiAwLAogICAgICAgIG1pbldpZHRoOiAwLCAvLyDmnIDlrr0KICAgICAgICBtaW5IZWlnaHQ6IDAsCiAgICAgICAgbmF0dXJhbFdpZHRoOiAwLCAvLyDljp/lrr0KICAgICAgICBuYXR1cmFsSGVpZ2h0OiAwCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDov5vluqbmnaHmoLflvI8KICAgIHByb2dyZXNzU3R5bGUoKSB7CiAgICAgIGNvbnN0IHsgcHJvZ3Jlc3MgfSA9IHRoaXMKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogcHJvZ3Jlc3MgKyAnJScKICAgICAgfQogICAgfSwKICAgIC8vIOWOn+Wbvuagt+W8jwogICAgc291cmNlSW1nU3R5bGUoKSB7CiAgICAgIGNvbnN0IHsgc2NhbGUsIHNvdXJjZUltZ01hc2tpbmcgfSA9IHRoaXMKICAgICAgY29uc3QgdG9wID0gc2NhbGUueSArIHNvdXJjZUltZ01hc2tpbmcueSArICdweCcKICAgICAgY29uc3QgbGVmdCA9IHNjYWxlLnggKyBzb3VyY2VJbWdNYXNraW5nLnggKyAncHgnCiAgICAgIHJldHVybiB7CiAgICAgICAgdG9wLAogICAgICAgIGxlZnQsCiAgICAgICAgd2lkdGg6IHNjYWxlLndpZHRoICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IHNjYWxlLmhlaWdodCArICdweCcsCiAgICAgICAgdHJhbnNmb3JtOiAncm90YXRlKCcgKyBzY2FsZS5kZWdyZWUgKyAnZGVnKScsIC8vIOaXi+i9rOaXtiDlt6bkvqfljp/lp4vlm77ml4vovazmoLflvI8KICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICdyb3RhdGUoJyArIHNjYWxlLmRlZ3JlZSArICdkZWcpJywgLy8g5YW85a65SUU5CiAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgc2NhbGUuZGVncmVlICsgJ2RlZyknLCAvLyDlhbzlrrlGaXJlRm94CiAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3JvdGF0ZSgnICsgc2NhbGUuZGVncmVlICsgJ2RlZyknLCAvLyDlhbzlrrlTYWZhcmkg5ZKMIGNocm9tZQogICAgICAgICctby10cmFuc2Zvcm0nOiAncm90YXRlKCcgKyBzY2FsZS5kZWdyZWUgKyAnZGVnKScgLy8g5YW85a65IE9wZXJhCiAgICAgIH0KICAgIH0sCiAgICAvLyDljp/lm77okpnniYjlsZ7mgKcKICAgIHNvdXJjZUltZ01hc2tpbmcoKSB7CiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgcmF0aW8sIHNvdXJjZUltZ0NvbnRhaW5lciB9ID0gdGhpcwogICAgICBjb25zdCBzaWMgPSBzb3VyY2VJbWdDb250YWluZXIKICAgICAgY29uc3Qgc2ljUmF0aW8gPSBzaWMud2lkdGggLyBzaWMuaGVpZ2h0IC8vIOWOn+WbvuWuueWZqOWuvemrmOavlAogICAgICBsZXQgeCA9IDAKICAgICAgbGV0IHkgPSAwCiAgICAgIGxldCB3ID0gc2ljLndpZHRoCiAgICAgIGxldCBoID0gc2ljLmhlaWdodAogICAgICBsZXQgc2NhbGUgPSAxCiAgICAgIGlmIChyYXRpbyA8IHNpY1JhdGlvKSB7CiAgICAgICAgc2NhbGUgPSBzaWMuaGVpZ2h0IC8gaGVpZ2h0CiAgICAgICAgdyA9IHNpYy5oZWlnaHQgKiByYXRpbwogICAgICAgIHggPSAoc2ljLndpZHRoIC0gdykgLyAyCiAgICAgIH0KICAgICAgaWYgKHJhdGlvID4gc2ljUmF0aW8pIHsKICAgICAgICBzY2FsZSA9IHNpYy53aWR0aCAvIHdpZHRoCiAgICAgICAgaCA9IHNpYy53aWR0aCAvIHJhdGlvCiAgICAgICAgeSA9IChzaWMuaGVpZ2h0IC0gaCkgLyAyCiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBzY2FsZSwgLy8g6JKZ54mI55u45a+56ZyA5rGC5a696auY55qE57yp5pS+CiAgICAgICAgeCwKICAgICAgICB5LAogICAgICAgIHdpZHRoOiB3LAogICAgICAgIGhlaWdodDogaAogICAgICB9CiAgICB9LAogICAgLy8g5Y6f5Zu+6YGu572p5qC35byPCiAgICBzb3VyY2VJbWdTaGFkZVN0eWxlKCkgewogICAgICBjb25zdCB7IHNvdXJjZUltZ01hc2tpbmcsIHNvdXJjZUltZ0NvbnRhaW5lciB9ID0gdGhpcwogICAgICBjb25zdCBzaWMgPSBzb3VyY2VJbWdDb250YWluZXIKICAgICAgY29uc3Qgc2ltID0gc291cmNlSW1nTWFza2luZwogICAgICBjb25zdCB3ID0KICAgICAgICBzaW0ud2lkdGggPT09IHNpYy53aWR0aCA/IHNpbS53aWR0aCA6IChzaWMud2lkdGggLSBzaW0ud2lkdGgpIC8gMgogICAgICBjb25zdCBoID0KICAgICAgICBzaW0uaGVpZ2h0ID09PSBzaWMuaGVpZ2h0ID8gc2ltLmhlaWdodCA6IChzaWMuaGVpZ2h0IC0gc2ltLmhlaWdodCkgLyAyCiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHcgKyAncHgnLAogICAgICAgIGhlaWdodDogaCArICdweCcKICAgICAgfQogICAgfSwKICAgIHByZXZpZXdTdHlsZSgpIHsKICAgICAgY29uc3QgeyByYXRpbywgcHJldmlld0NvbnRhaW5lciB9ID0gdGhpcwogICAgICBjb25zdCBwYyA9IHByZXZpZXdDb250YWluZXIKICAgICAgbGV0IHcgPSBwYy53aWR0aAogICAgICBsZXQgaCA9IHBjLmhlaWdodAogICAgICBjb25zdCBwY1JhdGlvID0gdyAvIGgKICAgICAgaWYgKHJhdGlvIDwgcGNSYXRpbykgewogICAgICAgIHcgPSBwYy5oZWlnaHQgKiByYXRpbwogICAgICB9CiAgICAgIGlmIChyYXRpbyA+IHBjUmF0aW8pIHsKICAgICAgICBoID0gcGMud2lkdGggLyByYXRpbwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHcgKyAncHgnLAogICAgICAgIGhlaWdodDogaCArICdweCcKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlKG5ld1ZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSAmJiB0aGlzLmxvYWRpbmcgIT09IDEpIHsKICAgICAgICB0aGlzLnJlc2V0KCkKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOe7keWumuaMiemUrmVzY+makOiXj+atpOaPkuS7tuS6i+S7tgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmNsb3NlSGFuZGxlcikKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5jbG9zZUhhbmRsZXIpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDngrnlh7vms6LnurnmlYjmnpwKICAgIHJpcHBsZShlKSB7CiAgICAgIGVmZmVjdFJpcHBsZShlKQogICAgfSwKICAgIC8vIOWFs+mXreaOp+S7tgogICAgb2ZmKCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGZhbHNlKQogICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgICAgICBpZiAodGhpcy5zdGVwID09PSAzICYmIHRoaXMubG9hZGluZyA9PT0gMikgewogICAgICAgICAgdGhpcy5zZXRTdGVwKDEpCiAgICAgICAgfQogICAgICB9LCAyMDApCiAgICB9LAogICAgLy8g6K6+572u5q2l6aqkCiAgICBzZXRTdGVwKG5vKSB7CiAgICAgIC8vIOW7tuaXtuaYr+S4uuS6huaYvuekuuWKqOeUu+aViOaenOWRou+8jOWTiOWTiOWTiAogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnN0ZXAgPSBubwogICAgICB9LCAyMDApCiAgICB9LAogICAgLyog5Zu+54mH6YCJ5oup5Yy65Z+f5Ye95pWw57uR5a6aCiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KICAgIHByZXZlbnREZWZhdWx0KGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICAgIHJldHVybiBmYWxzZQogICAgfSwKICAgIGhhbmRsZUNsaWNrKGUpIHsKICAgICAgaWYgKHRoaXMubG9hZGluZyAhPT0gMSkgewogICAgICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcy4kcmVmcy5maWxlaW5wdXQpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKQogICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMuJHJlZnMpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5maWxlaW5wdXQuY2xpY2soKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNoYW5nZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKQogICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSAxKSB7CiAgICAgICAgY29uc3QgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlcwogICAgICAgIHRoaXMucmVzZXQoKQogICAgICAgIGlmICh0aGlzLmNoZWNrRmlsZShmaWxlc1swXSkpIHsKICAgICAgICAgIHRoaXMuc2V0U291cmNlSW1nKGZpbGVzWzBdKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICAvLyDmo4DmtYvpgInmi6nnmoTmlofku7bmmK/lkKblkIjpgIIKICAgIGNoZWNrRmlsZShmaWxlKSB7CiAgICAgIGNvbnN0IHsgbGFuZywgbWF4U2l6ZSB9ID0gdGhpcwogICAgICAvLyDku4XpmZDlm77niYcKICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAtMSkgewogICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlCiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGxhbmcuZXJyb3Iub25seUltZwogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIC8vIOi2heWHuuWkp+WwjwogICAgICBpZiAoZmlsZS5zaXplIC8gMTAyNCA+IG1heFNpemUpIHsKICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZQogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm91dE9mU2l6ZSArIG1heFNpemUgKyAna2InCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgcmV0dXJuIHRydWUKICAgIH0sCiAgICAvLyDph43nva7mjqfku7YKICAgIHJlc2V0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSAwCiAgICAgIHRoaXMuaGFzRXJyb3IgPSBmYWxzZQogICAgICB0aGlzLmVycm9yTXNnID0gJycKICAgICAgdGhpcy5wcm9ncmVzcyA9IDAKICAgIH0sCiAgICAvLyDorr7nva7lm77niYfmupAKICAgIHNldFNvdXJjZUltZyhmaWxlKSB7CiAgICAgIGNvbnN0IGZyID0gbmV3IEZpbGVSZWFkZXIoKQogICAgICBmci5vbmxvYWQgPSBlID0+IHsKICAgICAgICB0aGlzLnNvdXJjZUltZ1VybCA9IGZyLnJlc3VsdAogICAgICAgIHRoaXMuc3RhcnRDcm9wKCkKICAgICAgfQogICAgICBmci5yZWFkQXNEYXRhVVJMKGZpbGUpCiAgICB9LAogICAgLy8g5Ymq6KOB5YmN5YeG5aSH5bel5L2cCiAgICBzdGFydENyb3AoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICB3aWR0aCwKICAgICAgICBoZWlnaHQsCiAgICAgICAgcmF0aW8sCiAgICAgICAgc2NhbGUsCiAgICAgICAgc291cmNlSW1nVXJsLAogICAgICAgIHNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgbGFuZwogICAgICB9ID0gdGhpcwogICAgICBjb25zdCBzaW0gPSBzb3VyY2VJbWdNYXNraW5nCiAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpCiAgICAgIGltZy5zcmMgPSBzb3VyY2VJbWdVcmwKICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICBjb25zdCBuV2lkdGggPSBpbWcubmF0dXJhbFdpZHRoCiAgICAgICAgY29uc3QgbkhlaWdodCA9IGltZy5uYXR1cmFsSGVpZ2h0CiAgICAgICAgY29uc3QgblJhdGlvID0gbldpZHRoIC8gbkhlaWdodAogICAgICAgIGxldCB3ID0gc2ltLndpZHRoCiAgICAgICAgbGV0IGggPSBzaW0uaGVpZ2h0CiAgICAgICAgbGV0IHggPSAwCiAgICAgICAgbGV0IHkgPSAwCiAgICAgICAgLy8g5Zu+54mH5YOP57Sg5LiN6L6+5qCHCiAgICAgICAgaWYgKG5XaWR0aCA8IHdpZHRoIHx8IG5IZWlnaHQgPCBoZWlnaHQpIHsKICAgICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlCiAgICAgICAgICB0aGlzLmVycm9yTXNnID0gbGFuZy5lcnJvci5sb3dlc3RQeCArIHdpZHRoICsgJyonICsgaGVpZ2h0CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgICAgaWYgKHJhdGlvID4gblJhdGlvKSB7CiAgICAgICAgICBoID0gdyAvIG5SYXRpbwogICAgICAgICAgeSA9IChzaW0uaGVpZ2h0IC0gaCkgLyAyCiAgICAgICAgfQogICAgICAgIGlmIChyYXRpbyA8IG5SYXRpbykgewogICAgICAgICAgdyA9IGggKiBuUmF0aW8KICAgICAgICAgIHggPSAoc2ltLndpZHRoIC0gdykgLyAyCiAgICAgICAgfQogICAgICAgIHNjYWxlLnJhbmdlID0gMAogICAgICAgIHNjYWxlLnggPSB4CiAgICAgICAgc2NhbGUueSA9IHkKICAgICAgICBzY2FsZS53aWR0aCA9IHcKICAgICAgICBzY2FsZS5oZWlnaHQgPSBoCiAgICAgICAgc2NhbGUuZGVncmVlID0gMAogICAgICAgIHNjYWxlLm1pbldpZHRoID0gdwogICAgICAgIHNjYWxlLm1pbkhlaWdodCA9IGgKICAgICAgICBzY2FsZS5tYXhXaWR0aCA9IG5XaWR0aCAqIHNpbS5zY2FsZQogICAgICAgIHNjYWxlLm1heEhlaWdodCA9IG5IZWlnaHQgKiBzaW0uc2NhbGUKICAgICAgICBzY2FsZS5uYXR1cmFsV2lkdGggPSBuV2lkdGgKICAgICAgICBzY2FsZS5uYXR1cmFsSGVpZ2h0ID0gbkhlaWdodAogICAgICAgIHRoaXMuc291cmNlSW1nID0gaW1nCiAgICAgICAgdGhpcy5jcmVhdGVJbWcoKQogICAgICAgIHRoaXMuc2V0U3RlcCgyKQogICAgICB9CiAgICB9LAogICAgLy8g6byg5qCH5oyJ5LiL5Zu+54mH5YeG5aSH56e75YqoCiAgICBpbWdTdGFydE1vdmUoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgLy8g5pSv5oyB6Kem5pG45LqL5Lu277yM5YiZ6byg5qCH5LqL5Lu25peg5pWICiAgICAgIGlmICh0aGlzLmlzU3VwcG9ydFRvdWNoICYmICFlLnRhcmdldFRvdWNoZXMpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICBjb25zdCBldCA9IGUudGFyZ2V0VG91Y2hlcyA/IGUudGFyZ2V0VG91Y2hlc1swXSA6IGUKICAgICAgY29uc3QgeyBzb3VyY2VJbWdNb3VzZURvd24sIHNjYWxlIH0gPSB0aGlzCiAgICAgIGNvbnN0IHNpbWQgPSBzb3VyY2VJbWdNb3VzZURvd24KICAgICAgc2ltZC5tWCA9IGV0LnNjcmVlblgKICAgICAgc2ltZC5tWSA9IGV0LnNjcmVlblkKICAgICAgc2ltZC54ID0gc2NhbGUueAogICAgICBzaW1kLnkgPSBzY2FsZS55CiAgICAgIHNpbWQub24gPSB0cnVlCiAgICB9LAogICAgLy8g6byg5qCH5oyJ5LiL54q25oCB5LiL56e75Yqo77yM5Zu+54mH56e75YqoCiAgICBpbWdNb3ZlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpCiAgICAgIC8vIOaUr+aMgeinpuaRuOS6i+S7tu+8jOWImem8oOagh+S6i+S7tuaXoOaViAogICAgICBpZiAodGhpcy5pc1N1cHBvcnRUb3VjaCAmJiAhZS50YXJnZXRUb3VjaGVzKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgY29uc3QgZXQgPSBlLnRhcmdldFRvdWNoZXMgPyBlLnRhcmdldFRvdWNoZXNbMF0gOiBlCiAgICAgIGNvbnN0IHsKICAgICAgICBzb3VyY2VJbWdNb3VzZURvd246IHsgb24sIG1YLCBtWSwgeCwgeSB9LAogICAgICAgIHNjYWxlLAogICAgICAgIHNvdXJjZUltZ01hc2tpbmcKICAgICAgfSA9IHRoaXMKICAgICAgY29uc3Qgc2ltID0gc291cmNlSW1nTWFza2luZwogICAgICBjb25zdCBuWCA9IGV0LnNjcmVlblgKICAgICAgY29uc3QgblkgPSBldC5zY3JlZW5ZCiAgICAgIGNvbnN0IGRYID0gblggLSBtWAogICAgICBjb25zdCBkWSA9IG5ZIC0gbVkKICAgICAgbGV0IHJYID0geCArIGRYCiAgICAgIGxldCByWSA9IHkgKyBkWQogICAgICBpZiAoIW9uKSByZXR1cm4KICAgICAgaWYgKHJYID4gMCkgewogICAgICAgIHJYID0gMAogICAgICB9CiAgICAgIGlmIChyWSA+IDApIHsKICAgICAgICByWSA9IDAKICAgICAgfQogICAgICBpZiAoclggPCBzaW0ud2lkdGggLSBzY2FsZS53aWR0aCkgewogICAgICAgIHJYID0gc2ltLndpZHRoIC0gc2NhbGUud2lkdGgKICAgICAgfQogICAgICBpZiAoclkgPCBzaW0uaGVpZ2h0IC0gc2NhbGUuaGVpZ2h0KSB7CiAgICAgICAgclkgPSBzaW0uaGVpZ2h0IC0gc2NhbGUuaGVpZ2h0CiAgICAgIH0KICAgICAgc2NhbGUueCA9IHJYCiAgICAgIHNjYWxlLnkgPSByWQogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+WQkeWPs+aXi+i9rAogICAgc3RhcnRSb3RhdGVSaWdodChlKSB7CiAgICAgIGNvbnN0IHsgc2NhbGUgfSA9IHRoaXMKICAgICAgc2NhbGUucm90YXRlUmlnaHQgPSB0cnVlCiAgICAgIGNvbnN0IHJvdGF0ZSA9ICgpID0+IHsKICAgICAgICBpZiAoc2NhbGUucm90YXRlUmlnaHQpIHsKICAgICAgICAgIGNvbnN0IGRlZ3JlZSA9ICsrc2NhbGUuZGVncmVlCiAgICAgICAgICB0aGlzLmNyZWF0ZUltZyhkZWdyZWUpCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICByb3RhdGUoKQogICAgICAgICAgfSwgNjApCiAgICAgICAgfQogICAgICB9CiAgICAgIHJvdGF0ZSgpCiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL5ZCR5bem5peL6L2sCiAgICBzdGFydFJvdGF0ZUxlZnQoZSkgewogICAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzCiAgICAgIHNjYWxlLnJvdGF0ZUxlZnQgPSB0cnVlCiAgICAgIGNvbnN0IHJvdGF0ZSA9ICgpID0+IHsKICAgICAgICBpZiAoc2NhbGUucm90YXRlTGVmdCkgewogICAgICAgICAgY29uc3QgZGVncmVlID0gLS1zY2FsZS5kZWdyZWUKICAgICAgICAgIHRoaXMuY3JlYXRlSW1nKGRlZ3JlZSkKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJvdGF0ZSgpCiAgICAgICAgICB9LCA2MCkKICAgICAgICB9CiAgICAgIH0KICAgICAgcm90YXRlKCkKICAgIH0sCiAgICAvLyDlgZzmraLml4vovawKICAgIGVuZFJvdGF0ZSgpIHsKICAgICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcwogICAgICBzY2FsZS5yb3RhdGVMZWZ0ID0gZmFsc2UKICAgICAgc2NhbGUucm90YXRlUmlnaHQgPSBmYWxzZQogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+aUvuWkpwogICAgc3RhcnRab29tQWRkKGUpIHsKICAgICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcwogICAgICBzY2FsZS56b29tQWRkT24gPSB0cnVlCiAgICAgIGNvbnN0IHpvb20gPSAoKSA9PiB7CiAgICAgICAgaWYgKHNjYWxlLnpvb21BZGRPbikgewogICAgICAgICAgY29uc3QgcmFuZ2UgPSBzY2FsZS5yYW5nZSA+PSAxMDAgPyAxMDAgOiArK3NjYWxlLnJhbmdlCiAgICAgICAgICB0aGlzLnpvb21JbWcocmFuZ2UpCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICB6b29tKCkKICAgICAgICAgIH0sIDYwKQogICAgICAgIH0KICAgICAgfQogICAgICB6b29tKCkKICAgIH0sCiAgICAvLyDmjInpkq7mnb7lvIDmiJbnp7vlvIDlj5bmtojmlL7lpKcKICAgIGVuZFpvb21BZGQoZSkgewogICAgICB0aGlzLnNjYWxlLnpvb21BZGRPbiA9IGZhbHNlCiAgICB9LAogICAgLy8g5oyJ6ZKu5oyJ5LiL5byA5aeL57yp5bCPCiAgICBzdGFydFpvb21TdWIoZSkgewogICAgICBjb25zdCB7IHNjYWxlIH0gPSB0aGlzCiAgICAgIHNjYWxlLnpvb21TdWJPbiA9IHRydWUKICAgICAgY29uc3Qgem9vbSA9ICgpID0+IHsKICAgICAgICBpZiAoc2NhbGUuem9vbVN1Yk9uKSB7CiAgICAgICAgICBjb25zdCByYW5nZSA9IHNjYWxlLnJhbmdlIDw9IDAgPyAwIDogLS1zY2FsZS5yYW5nZQogICAgICAgICAgdGhpcy56b29tSW1nKHJhbmdlKQogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgem9vbSgpCiAgICAgICAgICB9LCA2MCkKICAgICAgICB9CiAgICAgIH0KICAgICAgem9vbSgpCiAgICB9LAogICAgLy8g5oyJ6ZKu5p2+5byA5oiW56e75byA5Y+W5raI57yp5bCPCiAgICBlbmRab29tU3ViKGUpIHsKICAgICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcwogICAgICBzY2FsZS56b29tU3ViT24gPSBmYWxzZQogICAgfSwKICAgIHpvb21DaGFuZ2UoZSkgewogICAgICB0aGlzLnpvb21JbWcoZS50YXJnZXQudmFsdWUpCiAgICB9LAogICAgLy8g57yp5pS+5Y6f5Zu+CiAgICB6b29tSW1nKG5ld1JhbmdlKSB7CiAgICAgIGNvbnN0IHsgc291cmNlSW1nTWFza2luZywgc2NhbGUgfSA9IHRoaXMKICAgICAgY29uc3QgewogICAgICAgIG1heFdpZHRoLAogICAgICAgIG1heEhlaWdodCwKICAgICAgICBtaW5XaWR0aCwKICAgICAgICBtaW5IZWlnaHQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIHgsCiAgICAgICAgeQogICAgICB9ID0gc2NhbGUKICAgICAgY29uc3Qgc2ltID0gc291cmNlSW1nTWFza2luZwogICAgICAvLyDokpnniYjlrr3pq5gKICAgICAgY29uc3Qgc1dpZHRoID0gc2ltLndpZHRoCiAgICAgIGNvbnN0IHNIZWlnaHQgPSBzaW0uaGVpZ2h0CiAgICAgIC8vIOaWsOWuvemrmAogICAgICBjb25zdCBuV2lkdGggPSBtaW5XaWR0aCArICgobWF4V2lkdGggLSBtaW5XaWR0aCkgKiBuZXdSYW5nZSkgLyAxMDAKICAgICAgY29uc3QgbkhlaWdodCA9IG1pbkhlaWdodCArICgobWF4SGVpZ2h0IC0gbWluSGVpZ2h0KSAqIG5ld1JhbmdlKSAvIDEwMAogICAgICAvLyDmlrDlnZDmoIfvvIjmoLnmja7okpnniYjkuK3lv4PngrnnvKnmlL7vvIkKICAgICAgbGV0IG5YID0gc1dpZHRoIC8gMiAtIChuV2lkdGggLyB3aWR0aCkgKiAoc1dpZHRoIC8gMiAtIHgpCiAgICAgIGxldCBuWSA9IHNIZWlnaHQgLyAyIC0gKG5IZWlnaHQgLyBoZWlnaHQpICogKHNIZWlnaHQgLyAyIC0geSkKICAgICAgLy8g5Yik5pat5paw5Z2Q5qCH5piv5ZCm6LaF6L+H6JKZ54mI6ZmQ5Yi2CiAgICAgIGlmIChuWCA+IDApIHsKICAgICAgICBuWCA9IDAKICAgICAgfQogICAgICBpZiAoblkgPiAwKSB7CiAgICAgICAgblkgPSAwCiAgICAgIH0KICAgICAgaWYgKG5YIDwgc1dpZHRoIC0gbldpZHRoKSB7CiAgICAgICAgblggPSBzV2lkdGggLSBuV2lkdGgKICAgICAgfQogICAgICBpZiAoblkgPCBzSGVpZ2h0IC0gbkhlaWdodCkgewogICAgICAgIG5ZID0gc0hlaWdodCAtIG5IZWlnaHQKICAgICAgfQogICAgICAvLyDotYvlgLzlpITnkIYKICAgICAgc2NhbGUueCA9IG5YCiAgICAgIHNjYWxlLnkgPSBuWQogICAgICBzY2FsZS53aWR0aCA9IG5XaWR0aAogICAgICBzY2FsZS5oZWlnaHQgPSBuSGVpZ2h0CiAgICAgIHNjYWxlLnJhbmdlID0gbmV3UmFuZ2UKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKHNjYWxlLnJhbmdlID09PSBuZXdSYW5nZSkgewogICAgICAgICAgdGhpcy5jcmVhdGVJbWcoKQogICAgICAgIH0KICAgICAgfSwgMzAwKQogICAgfSwKICAgIC8vIOeUn+aIkOmcgOaxguWbvueJhwogICAgY3JlYXRlSW1nKGUpIHsKICAgICAgY29uc3QgewogICAgICAgIG1pbWUsCiAgICAgICAgc291cmNlSW1nLAogICAgICAgIHNjYWxlOiB7IHgsIHksIHdpZHRoLCBoZWlnaHQsIGRlZ3JlZSB9LAogICAgICAgIHNvdXJjZUltZ01hc2tpbmc6IHsgc2NhbGUgfQogICAgICB9ID0gdGhpcwogICAgICBjb25zdCBjYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhcwogICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKQogICAgICBpZiAoZSkgewogICAgICAgIC8vIOWPlua2iOm8oOagh+aMieS4i+enu+WKqOeKtuaAgQogICAgICAgIHRoaXMuc291cmNlSW1nTW91c2VEb3duLm9uID0gZmFsc2UKICAgICAgfQogICAgICBjYW52YXMud2lkdGggPSB0aGlzLndpZHRoCiAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLmhlaWdodAogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KQogICAgICAvLyDlsIbpgI/mmI7ljLrln5/orr7nva7kuLrnmb3oibLlupXovrkKICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmJwogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpCiAgICAgIGN0eC50cmFuc2xhdGUodGhpcy53aWR0aCAqIDAuNSwgdGhpcy5oZWlnaHQgKiAwLjUpCiAgICAgIGN0eC5yb3RhdGUoKE1hdGguUEkgKiBkZWdyZWUpIC8gMTgwKQogICAgICBjdHgudHJhbnNsYXRlKC10aGlzLndpZHRoICogMC41LCAtdGhpcy5oZWlnaHQgKiAwLjUpCiAgICAgIGN0eC5kcmF3SW1hZ2UoCiAgICAgICAgc291cmNlSW1nLAogICAgICAgIHggLyBzY2FsZSwKICAgICAgICB5IC8gc2NhbGUsCiAgICAgICAgd2lkdGggLyBzY2FsZSwKICAgICAgICBoZWlnaHQgLyBzY2FsZQogICAgICApCiAgICAgIHRoaXMuY3JlYXRlSW1nVXJsID0gY2FudmFzLnRvRGF0YVVSTChtaW1lKQogICAgfSwKICAgIHByZXBhcmVVcGxvYWQoKSB7CiAgICAgIGNvbnN0IHsgdXJsLCBjcmVhdGVJbWdVcmwsIGZpZWxkLCBraSB9ID0gdGhpcwogICAgICB0aGlzLiRlbWl0KCdjcm9wLXN1Y2Nlc3MnLCBjcmVhdGVJbWdVcmwsIGZpZWxkLCBraSkKICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnICYmIHVybCkgewogICAgICAgIHRoaXMudXBsb2FkKCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9mZigpCiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYcKICAgIHVwbG9hZCgpIHsKICAgICAgY29uc3QgewogICAgICAgIGxhbmcsCiAgICAgICAgaW1nRm9ybWF0LAogICAgICAgIG1pbWUsCiAgICAgICAgdXJsLAogICAgICAgIHBhcmFtcywKICAgICAgICBmaWVsZCwKICAgICAgICBraSwKICAgICAgICBjcmVhdGVJbWdVcmwKICAgICAgfSA9IHRoaXMKICAgICAgY29uc3QgZm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm1EYXRhLmFwcGVuZCgKICAgICAgICBmaWVsZCwKICAgICAgICBkYXRhMmJsb2IoY3JlYXRlSW1nVXJsLCBtaW1lKSwKICAgICAgICBmaWVsZCArICcuJyArIGltZ0Zvcm1hdAogICAgICApCiAgICAgIC8vIOa3u+WKoOWFtuS7luWPguaVsAogICAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gJ29iamVjdCcgJiYgcGFyYW1zKSB7CiAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGsgPT4gewogICAgICAgICAgZm1EYXRhLmFwcGVuZChrLCBwYXJhbXNba10pCiAgICAgICAgfSkKICAgICAgfQogICAgICAvLyDnm5HlkKzov5vluqblm57osIMKICAgICAgLy8gY29uc3QgdXBsb2FkUHJvZ3Jlc3MgPSAoZXZlbnQpID0+IHsKICAgICAgLy8gICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkgewogICAgICAvLyAgICAgdGhpcy5wcm9ncmVzcyA9IDEwMCAqIE1hdGgucm91bmQoZXZlbnQubG9hZGVkKSAvIGV2ZW50LnRvdGFsCiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIC8vIOS4iuS8oOaWh+S7tgogICAgICB0aGlzLnJlc2V0KCkKICAgICAgdGhpcy5sb2FkaW5nID0gMQogICAgICB0aGlzLnNldFN0ZXAoMykKICAgICAgcmVxdWVzdCh7CiAgICAgICAgdXJsLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IGZtRGF0YQogICAgICB9KQogICAgICAgIC50aGVuKHJlc0RhdGEgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gMgogICAgICAgICAgdGhpcy4kZW1pdCgnY3JvcC11cGxvYWQtc3VjY2VzcycsIHJlc0RhdGEuZGF0YSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gMwogICAgICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gbGFuZy5mYWlsCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nyb3AtdXBsb2FkLWZhaWwnLCBlcnIsIGZpZWxkLCBraSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSwKICAgIGNsb3NlSGFuZGxlcihlKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlICYmIChlLmtleSA9PT0gJ0VzY2FwZScgfHwgZS5rZXlDb2RlID09PSAyNykpIHsKICAgICAgICB0aGlzLm9mZigpCiAgICAgIH0KICAgIH0KICB9Cn0K"},null]}